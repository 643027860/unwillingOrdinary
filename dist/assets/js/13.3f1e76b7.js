(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{612:function(s,a,n){"use strict";n.r(a);var e=n(6),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",[s._v("从头学Vue，让你从小白到自主开发的全过程")])]),s._v(" "),n("h2",{attrs:{id:"介绍vue-router"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍vue-router"}},[s._v("#")]),s._v(" 介绍vue-router")]),s._v(" "),n("p",[s._v("路由就是SPA（单页应用）的路径管理器，vue-router是Vue.js官方的路由插件，它和vue.js是深度集成的，适合用于构建单页面应用。\nvue的单页面应用是基于路由和组件的，路由用于设定访问路径，并将路径和组件映射起来。传统的页面应用，是用一些超链接来实现页面切换和跳转的。\n在vue-router单页面应用中，则是路径之间的切换，也就是组件的切换。路由模块的本质 就是建立起url和页面之间的映射关系。")]),s._v(" "),n("h2",{attrs:{id:"使用vue-router"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用vue-router"}},[s._v("#")]),s._v(" 使用vue-router")]),s._v(" "),n("h3",{attrs:{id:"_1-下载vue-router插件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载vue-router插件"}},[s._v("#")]),s._v(" 1. 下载vue-router插件")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("npm install -s vue-router\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_2-引入vue-router并注册路由"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-引入vue-router并注册路由"}},[s._v("#")]),s._v(" 2. 引入vue-router并注册路由")]),s._v(" "),n("p",[s._v("在router文件夹下的"),n("code",[s._v("index.js")]),s._v("中引入vue-router并注册路由：")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nimport Home from '../pages/home/home'\nimport Apk from '../pages/home/apk/apk'\nimport Login from '../pages/login/login'\n\nexport default new VueRouter({\n  routes:[\n    {\n      path:'/home',\n      name:'home',\n      component:Home,\n      children:[\n        {\n          path:'apk',\n          name:'apk',\n          component:Apk,\n        },\n      ],\n       redirect:{name: 'apk'}\n    },\n    {\n      path:'/login',\n      name:'login',\n      component:Login,\n    },\n    {\n      path:'/',\n      redirect:to => {\n        return 'login'\n      }\n    },\n  ]\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h3",{attrs:{id:"_3-在main-js文件中引入router"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-在main-js文件中引入router"}},[s._v("#")]),s._v(" 3. 在"),n("code",[s._v("main.js")]),s._v("文件中引入router")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("import router from './router'\n\nvar vm = new Vue({\n    el: '#app',\n    render: h => h(App),\n    router\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"_4-组件间跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-组件间跳转"}},[s._v("#")]),s._v(" 4. 组件间跳转")]),s._v(" "),n("p",[s._v("(1) 通过"),n("code",[s._v("router-link")]),s._v("来进行跳转：")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("router-link")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("to")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("/home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("Home"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("router-link")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("(2) 通过"),n("code",[s._v("this.$router")]),s._v("来跳转：")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("this.$router.go(-1) ：代表着后退\n\nthis.$router.go(1)：代表着前进\n\nthis.$router.push({    //切换到path为home的路由,能回退上一个路由\n        path:'home'\n       });\nthis.$router.push(    //切换到path为home的路由,能回退上一个路由\n         '/home'\n        );\n\nthis.$router.replace({    //切换到name为home的路由,不能回退上一个路由！\n        name:'home'\n       });\nthis.$router.replace(    //切换到name为home的路由,不能回退上一个路由！\n         'home'\n        );\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h2",{attrs:{id:"vue-router其他小知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-router其他小知识"}},[s._v("#")]),s._v(" vue-router其他小知识")]),s._v(" "),n("h3",{attrs:{id:"_1-路由懒加载-不再一开始引入全部组件-而是按需加载路由组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-路由懒加载-不再一开始引入全部组件-而是按需加载路由组件"}},[s._v("#")]),s._v(" 1. 路由懒加载：不再一开始引入全部组件，而是按需加载路由组件")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nexport default new VueRouter({\n  routes:[\n    {\n      path:'/home',\n      name:'home',\n      component:resolve => require(['../pages/home/home'],resolve),\n      children:[\n        {\n          path:'apk',\n          name:'apk',\n          component:resolve => require(['../pages/home/apk/apk'],resolve),\n        }\n      ],\n      redirect:{name: 'apk'}\n    },\n    {\n      path:'/login',\n      name:'login',\n      component:resolve => require(['../pages/login/login'],resolve),\n    },\n    {\n      path:'/',\n      redirect:to => {\n        return 'login'\n      }\n    }\n  ]\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])]),n("h3",{attrs:{id:"_2-路由跳转的时候传递参数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-路由跳转的时候传递参数"}},[s._v("#")]),s._v(" 2. 路由跳转的时候传递参数：")]),s._v(" "),n("p",[s._v("(1) 通过"),n("code",[s._v("query")])]),s._v(" "),n("p",[s._v("跳转时携带参数：")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v('this.$router.push({name:"home",query:{id:JSON.stringify(id)})\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在组件获取参数:")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("var id = this.$route.query.id\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("(2) 通过"),n("code",[s._v("params")])]),s._v(" "),n("p",[s._v("跳转时携带参数：")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v('this.$router.push({name:"home",params:{id:JSON.stringify(id)})\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在组件获取参数:")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("var id = this.$route.params.id\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("(3) 二者的区别：")]),s._v(" "),n("ol",[n("li",[s._v("页面刷新后，query携带的参数不会消失，但params携带的参数会消失！")]),s._v(" "),n("li",[s._v("params携带的参数要想像params一样刷新后仍保留则需要在配置相应组件路由时添加一个占位参数：")])]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("// 举个例子：router.js下相应的组件地址后加一个占位参数\npath:'/home:id',\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-通过路由守卫防止非法跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-通过路由守卫防止非法跳转"}},[s._v("#")]),s._v(" 3. 通过路由守卫防止非法跳转：")]),s._v(" "),n("p",[s._v("在需要权限才能进入组件的路由在注册时应添加"),n("code",[s._v("meta")])]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("{\n    path:'/home',\n    name:'home',\n    meta:{requireAuth:true},  //需要权限才能跳转\n    component:resolve => require(['../pages/home/home'],resolve),\n},\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("在main.js全局注册路由守卫：")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("router.beforeEach((to,from,next)=>{\n    if(to.meta.requireAuth == true){ // 判断是否需要权限进入的路由\n        if(!Auth){                   // 获取不到令牌信息跳转到登录界面，令牌在此需要你自己获取来判断是否有效\n            next({\n                path: '/login'\n            })\n        }else{                       // 获取到令牌信息，跳转到对应组件\n            return next();\n        }\n    }else{                           // 不需要权限的路由直接进行跳转\n        return next();\n    }\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);