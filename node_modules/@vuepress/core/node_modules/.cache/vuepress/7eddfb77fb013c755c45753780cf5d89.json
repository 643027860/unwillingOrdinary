{"remainingRequest":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\vuepress-plugin-music-bar\\MusicBar.vue?vue&type=style&index=0&id=1141ca7a&lang=stylus&scoped=true&","dependencies":[{"path":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\vuepress-plugin-music-bar\\MusicBar.vue","mtime":499162500000},{"path":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\stylus-loader\\index.js","mtime":1519606876000},{"path":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\新建文件夹\\serverless\\小天才宝达\\talent-baoda\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm11c2ljLWJhciB7CiAgcG9zaXRpb246IGZpeGVkOwogIGxlZnQ6IDAuNWVtOwogIGJvdHRvbTogMC41ZW07CiAgei1pbmRleDogODAwOwoKICAuY2FyZC1ob2xkZXIgewogICAgd2lkdGg6IDBweDsKICAgIG92ZXJmbG93OiB2aXNpYmxlOwogICAgZmxvYXQ6IGxlZnQ7CiAgfQoKICAuY2FyZC13cmFwcGVyIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGZsb2F0OiByaWdodDsKICAgIGNsZWFyOiBib3RoOwogIH0KCiAgLmNhcmQgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbGVmdDogNTBweDsKICAgIHBhZGRpbmc6IDBweCAwcHggMHB4IDY0cHg7CiAgICBtYXJnaW46IDhweDsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC40cyBlYXNlLWluLW91dCAwLjFzOwogICAgYmFja2dyb3VuZDogJGFjY2VudENvbG9yOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICBjb2xvcjogI2ZmZjsKICB9CgogIC5jYXJkOmhvdmVyIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGxlZnQ6IDEwMCU7CiAgICBtYXJnaW4tbGVmdDogLTUwcHg7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC40cyBlYXNlLWluLW91dDsKICB9CgogIC5jYXJkOjphZnRlciB7CiAgICBjb250ZW50OiAnJzsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDQycHg7CiAgICBib3R0b206IDUwcHg7CiAgICAvLyBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICB3aWR0aDogY2FsYygxMDAlIC0gNDJweCAtIDUwcHgpOwogICAgaGVpZ2h0OiAyMDBweDsKICB9CgogIC5jYXJkLWNvbnNvbGUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgZGlzcGxheTogZmxleDsKICAgIGxlZnQ6IDY0cHg7CiAgICBib3R0b206IDUwcHg7CiAgICAvLyBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICBoZWlnaHQ6IDE3MHB4OwogICAgd2lkdGg6IGNhbGMoMTAwJSAtIDQycHggLSAxMDBweCk7CiAgICB6LWluZGV4OiAyMDsKICB9CgogIC5tdXNpYy1iYXItdG9wIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDBweDsKICAgIHRvcDogMHB4OwogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDEwMCU7CiAgICB6LWluZGV4OiA5MDA7CiAgfQoKICAubXVzaWMtYmFyLXBsYXllciB7CiAgICBoZWlnaHQ6IDUwcHg7CiAgICB3aWR0aDogMzV2dzsKICAgIG1pbi13aWR0aDogMjAwcHg7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTIwZGVnLCAjMDBjZGFjIDAlLCAjOGRkYWQ1IDEwMCUpOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB9CgogIC5wcm9ncmVzcyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAwcHg7CiAgICB0b3A6IDBweDsKICAgIGhlaWdodDogMTAwJTsKICAgIHdpZHRoOiAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNyk7CiAgfQoKICAuY29udHJvbCB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAwcHg7CiAgICB0b3A6IDBweDsKICAgIGhlaWdodDogMTAwJTsKICAgIHdpZHRoOiAxMDAlOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICB9CgogICNtdXNpYy1iYXItbG9hZGluZyB7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogIH0KCiAgLm11c2ljLWJhci1pY29uIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHdpZHRoOiA1MHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICB9Cn0KCi5tdXNpYy1iYXItZmFkZS1lbnRlci1hY3RpdmUsIC5tdXNpYy1iYXItZmFkZS1sZWF2ZS1hY3RpdmUgewogIHRyYW5zaXRpb246IG9wYWNpdHkgMXM7Cn0KCi5tdXNpYy1iYXItZmFkZS1lbnRlciwgLm11c2ljLWJhci1mYWRlLWxlYXZlLXRvIHsgLyogLmZhZGUtbGVhdmUtYWN0aXZlIGJlbG93IHZlcnNpb24gMi4xLjggKi8KICBvcGFjaXR5OiAwOwp9Cg=="},{"version":3,"sources":["MusicBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8cA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"MusicBar.vue","sourceRoot":"node_modules/vuepress-plugin-music-bar","sourcesContent":["<template>\n  <transition name=\"music-bar-fade\">\n    <div v-if=\"display\">\n      <div class=\"music-bar\">\n        <div class=\"card-holder\">\n          <div class=\"card-wrapper\">\n            <div class=\"card\" :style=\"{background:frameColor}\">\n              <div class=\"card-console\">\n                <div>\n                  <el-slider\n                    v-model=\"volume\"\n                    vertical\n                    height=\"150px\"\n                    :show-tooltip=\"false\"\n                    :format-tooltip=\"format\"\n                  ></el-slider>\n                </div>\n              </div>\n\n              <div class=\"music-bar-top\" ref=\"top\" @click.once=\"FirstClick()\"></div>\n              <div class=\"music-bar-player\" :style=\"{background:background}\">\n                <div class=\"progress\" :style=\"{width:progress}\"></div>\n                <div\n                  class=\"control\"\n                  ref=\"control\"\n                  @mousedown.self=\"mousedownHandler\"\n                  @mousemove=\"mousemoveHandler\"\n                  @mouseup=\"mouseupHandler\"\n                  @touchstart.self=\"mousedownHandler\"\n                  @touchmove=\"mousemoveHandler\"\n                  @touchend=\"mouseupHandler\"\n                >\n                  <div @click=\"Skip(-1)\">\n                    <svg\n                      viewBox=\"0 0 24 24\"\n                      width=\"24\"\n                      height=\"24\"\n                      stroke=\"currentColor\"\n                      stroke-width=\"1.5\"\n                      fill=\"none\"\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      class=\"css-i6dzq1\"\n                    >\n                      <polygon points=\"19 20 9 12 19 4 19 20\" />\n                      <line x1=\"5\" y1=\"19\" x2=\"5\" y2=\"5\" />\n                    </svg>\n                  </div>\n                  <div @click=\"Pause()\">\n                    <svg\n                      v-if=\"!playing\"\n                      viewBox=\"0 0 24 24\"\n                      width=\"24\"\n                      height=\"24\"\n                      stroke=\"currentColor\"\n                      stroke-width=\"1.5\"\n                      fill=\"none\"\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      class=\"css-i6dzq1\"\n                    >\n                      <polygon points=\"5 3 19 12 5 21 5 3\" />\n                    </svg>\n                    <svg\n                      v-if=\"playing\"\n                      viewBox=\"0 0 24 24\"\n                      width=\"24\"\n                      height=\"24\"\n                      stroke=\"currentColor\"\n                      stroke-width=\"1.5\"\n                      fill=\"none\"\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      class=\"css-i6dzq1\"\n                    >\n                      <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" />\n                      <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" />\n                    </svg>\n                  </div>\n                  <div @click=\"Skip(1)\">\n                    <svg\n                      viewBox=\"0 0 24 24\"\n                      width=\"24\"\n                      height=\"24\"\n                      stroke=\"currentColor\"\n                      stroke-width=\"1.5\"\n                      fill=\"none\"\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      class=\"css-i6dzq1\"\n                    >\n                      <polygon points=\"5 4 15 12 5 20 5 4\" />\n                      <line x1=\"19\" y1=\"5\" x2=\"19\" y2=\"19\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n              <div class=\"music-bar-icon\">\n                <div style=\"position: absolute; left:60px\">\n                  <img src=\"./tail-spin.svg\" id=\"music-bar-loading\" :style=\"{opacity:opacity}\" />\n                </div>\n                <svg\n                  viewBox=\"0 0 24 24\"\n                  width=\"24\"\n                  height=\"24\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"1.5\"\n                  fill=\"none\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  class=\"css-i6dzq1\"\n                >\n                  <path d=\"M9 18V5l12-2v13\" />\n                  <circle cx=\"6\" cy=\"18\" r=\"3\" />\n                  <circle cx=\"18\" cy=\"16\" r=\"3\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nconst { Howl, Howler } = require(\"howler\");\nconst {\n  playList = [],\n  platform = [],\n  firstClickPlay = true,\n  background = \"\",\n  timeOut = 2000,\n  frameColor,\n  ...others\n} = MUSICBAR_OPTIONS;\nexport default {\n  name: \"MusicBar\",\n  data() {\n    return {\n      src: [],\n      playList: [],\n      progress: \"0%\",\n      index: 0,\n      playing: false,\n      ready: 0,\n      isMouseDown: 0,\n      from: \"\",\n      display: 0,\n      log: \"\",\n      loading: 0,\n      volumeCache: 100,\n      MusicBar: {\n        log: msg => {\n          if (MUSICBAR_ENABLE_DEBUG)\n            console.log(\"\\n\\n%c[music-bar]\" + msg, \"color: green;\");\n          this.log += msg + \"\\r\\n\";\n        },\n        warn: msg => {\n          if (MUSICBAR_ENABLE_DEBUG) console.warn(\"\\n\\n[music-bar]\" + msg);\n        },\n        error: msg => {\n          if (MUSICBAR_ENABLE_DEBUG) console.error(\"\\n\\n[music-bar]\" + msg);\n        },\n        object: (e, msg) => {\n          if (MUSICBAR_ENABLE_DEBUG) {\n            console.log(\"\\n\\n%c[music-bar] %s \\n%o\", \"color: green;\", msg, e);\n          }\n        }\n      }\n    };\n  },\n  computed: {\n    volume: {\n      set: function(value) {\n        console.log(value);\n        this.volumeCache = value;\n        Howler.volume(value / 100);\n      },\n      get: function() {\n        return this.volumeCache;\n      }\n    },\n    frameColor: function() {\n      return frameColor ? frameColor : \"\";\n    },\n    background: function() {\n      return background;\n    },\n    opacity: function() {\n      return Number(!this.loaded);\n    },\n    loaded: function() {\n      return this.ready && !this.loading\n        ? this.playList[this.index].howl.state() === \"loaded\"\n        : 0;\n    },\n    duration: function() {\n      return this.playList[this.index].howl.duration();\n    }\n  },\n\n  mounted: function() {\n    this.display = 1;\n    //init\n    this.MusicBarInit();\n  },\n  methods: {\n    MusicBarInit: function() {\n      //手动列表\n      playList.forEach(e => {\n        this.AudioInit_ByUrl(e);\n      });\n      //平台自动添加歌曲\n      platform.forEach(e => {\n        //多平台支持\n        if (e.name === \"music.163.com\") {\n          //网易云音乐\n          this.AudioInit_163(e);\n        }\n        //TODO:其他平台\n\n        this.MusicBar.object(this.playList, \"playList:\\n\");\n      });\n    },\n    AudioInit_ByUrl: function(e) {\n      this.MusicBar.log(\"load:\" + e);\n      this.HowlInit(e);\n    },\n    AudioInit_163: function(e) {\n      //获取歌曲\n      if (e.songIDs) {\n        e.songIDs.forEach(id => {\n          fetch(\n            \"https://api.imjad.cn/cloudmusic/?type=song&id=\" + id.toString()\n          )\n            .then(response => response.json())\n            .then(data => {\n              //获取歌曲id\n              let url = data.data[0].url;\n              this.MusicBar.log(\"load:\" + url);\n              fetch(\n                \"https://api.imjad.cn/cloudmusic/?type=detail&id=\" +\n                  id.toString()\n              )\n                .then(response => response.json())\n                .then(data => {\n                  this.HowlInit(\n                    data.songs[0].name + \" - \" + data.songs[0].ar[0].name,\n                    url\n                  );\n                })\n                .catch(error => this.MusicBar.error(error));\n            })\n            .catch(error => this.MusicBar.error(error));\n        });\n      }\n      //获取歌单\n      if (e.playListIDs) {\n        e.playListIDs.forEach(id => {\n          fetch(\n            \"https://api.imjad.cn/cloudmusic/?type=playlist&id=\" + id.toString()\n          )\n            .then(response => response.json())\n            .then(data => {\n              //获取歌曲id\n              data.playlist.trackIds.forEach((e, i) => {\n                fetch(\n                  \"https://api.imjad.cn/cloudmusic/?type=song&id=\" +\n                    e.id.toString()\n                )\n                  .then(response => response.json())\n                  .then(data => {\n                    let url = data.data[0].url;\n                    this.MusicBar.log(\"load:\" + url);\n                    fetch(\n                      \"https://api.imjad.cn/cloudmusic/?type=detail&id=\" +\n                        e.id.toString()\n                    )\n                      .then(response => response.json())\n                      .then(data => {\n                        this.HowlInit(\n                          data.songs[0].name + \" - \" + data.songs[0].ar[0].name,\n                          url\n                        );\n                      })\n                      .catch(error => this.MusicBar.error(error));\n                  })\n                  .catch(error => this.MusicBar.error(error));\n              });\n            })\n            .catch(error => this.MusicBar.error(error));\n        });\n      }\n    },\n    HowlInit: function(name, url) {\n      this.playList.push({\n        name: name,\n        url: url,\n        howl: new Howl({\n          src: url,\n          html5: true,\n          preload: \"metadata\",\n          onend: () => {\n            this.Skip(1);\n          },\n          onplay: () => {\n            this.playing = true;\n            this.MusicBar.log(\n              \"play \" +\n                \" [\" +\n                this.index +\n                \"] \" +\n                this.playList[this.index].name\n            );\n          },\n          onpause: () => {\n            this.playing = false;\n            this.MusicBar.log(\n              \"pause\" +\n                \" [\" +\n                this.index +\n                \"] \" +\n                this.playList[this.index].name\n            );\n          },\n          onseek: () => {\n            let waitSeek = () => {\n              let seek = this.playList[this.index].howl.seek();\n              if (isNaN(seek)) {\n                let seekTimeout = setTimeout(() => {\n                  waitSeek();\n                }, 20);\n              } else {\n                if (this.loading) {\n                  this.loading = 0;\n                  this.MusicBar.log(\n                    \"seek \" +\n                      \" [\" +\n                      this.index +\n                      \"] \" +\n                      this.playList[this.index].name +\n                      \"\\nfrom \" +\n                      this.from +\n                      \" to \" +\n                      ((seek / this.duration) * 100).toFixed(2).toString() +\n                      \"%\"\n                  );\n                }\n              }\n            };\n            waitSeek();\n          },\n          onfade: () => {\n            this.playing\n              ? this.playList[this.index].howl.pause()\n              : this.playList[this.index].howl.play();\n          }\n        })\n      });\n      this.ready++;\n    },\n    FirstClick: function() {\n      let top = this.$refs.top;\n      top.style.height = 0;\n      top.style.width = 0;\n      if (firstClickPlay) {\n        this.Play();\n      }\n      setInterval(this.TimeOut, timeOut); //检测歌曲是否成功加载,超时换下一首\n      setInterval(this.Progress, 10);\n    },\n    Play: function() {\n      this.playList[this.index].howl.play();\n    },\n    Progress: function() {\n      if (!this.isMouseDown && this.loaded)\n        this.progress =\n          ((this.playList[this.index].howl.seek() / this.duration) * 100)\n            .toFixed(2)\n            .toString() + \"%\";\n    },\n    Skip(num) {\n      //this.playList[this.index].howl.pause();\n      this.playList[this.index].howl.stop();\n      this.index += num;\n      if (this.index >= this.playList.length) {\n        this.index = 0;\n      }\n      if (this.index < 0) {\n        this.index = this.playList.length - 1;\n      }\n      if (num === 1) {\n        this.MusicBar.log(\"next\");\n      } else if (num === -1) {\n        this.MusicBar.log(\"previous\");\n      }\n      this.Play();\n    },\n    Pause() {\n      this.playing = this.playList[this.index].howl.playing();\n      this.playing ? this.fadeOut() : this.fadeIn();\n    },\n    fadeIn() {\n      this.playList[this.index].howl.fade(0, this.volume / 100, 300);\n    },\n    fadeOut() {\n      this.playList[this.index].howl.fade(this.volume / 100, 0, 300);\n    },\n\n    TimeOut() {\n      if (this.ready && this.playList[this.index].howl.state() != \"loaded\") {\n        this.MusicBar.warn(\n          \"Loading timed out, trying to replace the next song\"\n        );\n        this.Skip(1);\n      }\n    },\n    mousedownHandler(e) {\n      if (this.loaded) {\n        //判断加载完成\n        if (e.touches) e = e.touches[0]; //判断移动端\n        if (e.which === 1 || e.which == undefined) {\n          this.isMouseDown = true;\n        }\n      }\n    },\n    mousemoveHandler(e) {\n      if (e.touches) e = e.touches[0];\n      if (this.isMouseDown === true) {\n        // 修改进度条\n        this.progress =\n          (((e.clientX - 20) / this.$refs.control.clientWidth) * 100)\n            .toFixed(2)\n            .toString() + \"%\";\n      }\n    },\n    mouseupHandler(e) {\n      if (e.changedTouches) e = e.changedTouches[0];\n      if (this.isMouseDown) {\n        // 修改seek\n        this.loading = 1;\n        this.from =\n          ((this.playList[this.index].howl.seek() / this.duration) * 100)\n            .toFixed(2)\n            .toString() + \"%\";\n        this.playList[this.index].howl.seek(\n          ((e.clientX - 20) / this.$refs.control.clientWidth) * this.duration\n        );\n\n        this.isMouseDown = false;\n      }\n    },\n    format(val) {\n      return val / 100;\n    }\n  }\n};\n</script>\n\n\n<style lang=\"stylus\" scoped>\n.music-bar {\n  position: fixed;\n  left: 0.5em;\n  bottom: 0.5em;\n  z-index: 800;\n\n  .card-holder {\n    width: 0px;\n    overflow: visible;\n    float: left;\n  }\n\n  .card-wrapper {\n    display: inline-block;\n    float: right;\n    clear: both;\n  }\n\n  .card {\n    position: relative;\n    left: 50px;\n    padding: 0px 0px 0px 64px;\n    margin: 8px;\n    background: #fff;\n    transition: all 0.4s ease-in-out 0.1s;\n    background: $accentColor;\n    display: flex;\n    justify-content: flex-end;\n    color: #fff;\n  }\n\n  .card:hover {\n    position: relative;\n    left: 100%;\n    margin-left: -50px;\n    transition: all 0.4s ease-in-out;\n  }\n\n  .card::after {\n    content: '';\n    position: absolute;\n    left: 42px;\n    bottom: 50px;\n    // background: rgba(0, 0, 0, 0.2);\n    width: calc(100% - 42px - 50px);\n    height: 200px;\n  }\n\n  .card-console {\n    position: absolute;\n    display: flex;\n    left: 64px;\n    bottom: 50px;\n    // background: rgba(0, 0, 0, 0.2);\n    height: 170px;\n    width: calc(100% - 42px - 100px);\n    z-index: 20;\n  }\n\n  .music-bar-top {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    height: 100%;\n    width: 100%;\n    z-index: 900;\n  }\n\n  .music-bar-player {\n    height: 50px;\n    width: 35vw;\n    min-width: 200px;\n    background-image: linear-gradient(-20deg, #00cdac 0%, #8ddad5 100%);\n    overflow: hidden;\n    position: relative;\n  }\n\n  .progress {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    height: 100%;\n    width: 0%;\n    background-color: rgba(0, 0, 0, 0.07);\n  }\n\n  .control {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  #music-bar-loading {\n    transition: all 0.5s ease;\n    position: relative;\n  }\n\n  .music-bar-icon {\n    position: relative;\n    width: 50px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n\n.music-bar-fade-enter-active, .music-bar-fade-leave-active {\n  transition: opacity 1s;\n}\n\n.music-bar-fade-enter, .music-bar-fade-leave-to { /* .fade-leave-active below version 2.1.8 */\n  opacity: 0;\n}\n</style>\n"]}]}